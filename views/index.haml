-# -*- coding: utf-8 -*-
!!!
%html
  %head
    %meta{"http-equiv" => "content-type", :content => "text/html; charset=utf-8"}
    %meta{"http-equiv" => "content-style-type", :content => "text/css"}
    %meta{"http-equiv" => "content-script-type", :content => "text/javascript"}
    %link(rel="stylesheet" type="text/css" href="https://raw.githubusercontent.com/woothemes/FlexSlider/master/flexslider.css")
    %script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js")
    %script(src="https://raw.githubusercontent.com/woothemes/FlexSlider/master/jquery.flexslider.js")
    %title Suberuim
  %body
    %h1 Suberuim

    Powered by
    %a{:href => "http://www.ruby-lang.org/"} Ruby
    ,
    %a{:href => "http://www.sinatrarb.com/intro.html"} Sinatra
    and
    %a{:href => "https://github.com/woothemes/FlexSlider"} FlexSlider

    %div.flexslider#flexslider-nav
      %ul.slides
        - @paths.each do |path|
          %li
            %a{href: path}
              %img{src: path, width: 180, height: 120}

    %div.flexslider#flexslider-main
      %ul.slides
        - @paths.each do |path|
          %li
            %a{href: path}
              %img{src: path}
              %p.flex-caption= path

  %a{:href => "https://github.com/myokoym/suberuim"}
    %img{:style => "position: absolute; top: 0; right: 0; border: 0;",
         :src => "https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png",
         :alt => "Fork me on GitHub"}

  :javascript
    (function() {
      $(window).load(function() {
        $('#flexslider-main').flexslider({
          animation: "slide",
          controlNav: false,
          animationLoop: false,
          slideshow: false,
          minItems: 1,
          maxItems: 1,
          sync: "#flexslider-nav"
        });

        $('#flexslider-nav').flexslider({
          animation: "slide",
          controlNav: false,
          animationLoop: false,
          slideshow: false,
          itemWidth: 180,
          itemMargin: 5,
          asNavFor: '#flexslider-main'
        });
      });
    }());
