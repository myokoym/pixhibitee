-# -*- coding: utf-8 -*-
!!!
%html
  %head
    %meta(http-equiv="content-type" content="text/html; charset=utf-8")
    %meta(http-equiv="content-style-type" content="text/css")
    %meta(http-equiv="content-script-type" content="text/javascript")
    %link(rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.5.6/slick.css" media="all")
    %link(rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.5.6/slick-theme.css" media="all")

    %title Suberuim
  %body
    %div.slider-nav
      - @paths.each do |path|
        %div
          %img{src: path, width: 120, height: 80}

    %div.slider-for
      - @paths.each do |path|
        %div
          %img{src: path}

    %div.slider-nav
      - @paths.each do |path|
        %div
          %img{src: path, width: 120, height: 80}

  Powered by
  %a{href: "http://www.ruby-lang.org/"} Ruby
  ,
  %a{href: "http://www.sinatrarb.com/intro.html"} Sinatra
  ,
  %a{href: "http://haml.info/"} Haml
  ,
  %a{href: "http://kenwheeler.github.io/slick/"} slick
  and
  %a{href: "https://github.com/myokoym/suberuim"} Suberuim

  %script(src="//code.jquery.com/jquery-1.11.3.min.js")
  %script(src="//cdn.jsdelivr.net/jquery.slick/1.5.6/slick.min.js")

  :javascript
    (function() {
      $(document).ready(function() {
        $('.slider-for').slick({
          slidesToShow: 1,
          slidesToScroll: 1,
          arrows: false,
          fade: true,
          asNavFor: '.slider-nav'
        });
        var responsives = new Array(20);
        for (var i = 0; i < 20; i++) {
          var slides = 20 - i;
          responsives[i] = {
            breakpoint: (140 * slides),
            settings: {
              slidesPerRow: slides,
              slidesToShow: slides
            }
          };
        }
        $('.slider-nav').slick({
          adaptiveHeight: true,
          asNavFor: '.slider-for',
          arrows: true,
          dots: true,
          centerMode: false,
          focusOnSelect: true,
          slidesPerRow: 8,
          slidesToShow: 8,
          slidesToScroll: 1,
          responsive: responsives
        });
      });
    }())
